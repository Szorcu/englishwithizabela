---
const items = [
  {
    name: "Marta K.",
    role: "B2 → C1",
    quote: "Lekcje z Izabelą to czysta przyjemność. Wreszcie mówię bez stresu.",
  },
  {
    name: "Paweł R.",
    role: "IT / rozmowa kwal.",
    quote: "Świetne przygotowanie – konkretne feedbacki. Dostałem ofertę!",
  },
  {
    name: "Ania S.",
    role: "Matura rozszerzona",
    quote: "Materiał dopasowany do moich braków. Wynik lepszy niż planowałam.",
  },
  {
    name: "Kamil D.",
    role: "IELTS 7.5",
    quote: "Strategie egzaminacyjne zrobiły różnicę. Polecam w 100%.",
  },
  {
    name: "Ola P.",
    role: "Business English",
    quote: "Naturalne zwroty do spotkań i maili. Duży skok pewności siebie.",
  },
];
const row1 = [...items, ...items]; // duplikujemy, by pętla była płynna
const row2 = [...items.slice().reverse(), ...items.slice().reverse()];
---

<section class="mx-auto max-w-7xl px-6 py-16 sm:py-20">
  <div class="rounded-3xl bg-slate-900/90 p-8 ring-1 ring-white/10">
    <div class="text-center">
      <h2 class="text-3xl font-bold text-white sm:text-4xl">Opinie uczniów</h2>
      <p class="mx-auto mt-3 max-w-2xl text-slate-300">
        Prawdziwe rezultaty, większa swoboda i motywacja do nauki.
      </p>
    </div>

    <!-- Maska na krawędzie (zanikanie) -->
    <div
      class="group relative mt-10 overflow-hidden [mask-image:linear-gradient(to_right,transparent,black_12%,black_88%,transparent)]"
    >
      <!-- RZĄD 1 (prawo) -->
      <div
        class="flex w-max animate-marquee-reverse gap-6 will-change-transform group-hover:[animation-play-state:paused]"
      >
        {
          row1.map((t, i) => (
            <figure class="min-w-[320px] max-w-sm rounded-2xl bg-white/5 p-5 text-left text-slate-100 ring-1 ring-white/10 backdrop-blur">
              <div class="flex items-baseline justify-between">
                <figcaption class="font-semibold">{t.name}</figcaption>
                <span class="text-xs text-slate-300">{t.role}</span>
              </div>
              <blockquote class="mt-3 text-slate-200">“{t.quote}”</blockquote>
            </figure>
          ))
        }
      </div>

      <!-- RZĄD 2 (lewo) -->
      <div
        class="mt-6 flex w-max animate-marquee gap-6 will-change-transform group-hover:[animation-play-state:paused]"
      >
        {
          row2.map((t, i) => (
            <figure class="min-w-[320px] max-w-sm rounded-2xl bg-white/5 p-5 text-left text-slate-100 ring-1 ring-white/10 backdrop-blur">
              <div class="flex items-baseline justify-between">
                <figcaption class="font-semibold">{t.name}</figcaption>
                <span class="text-xs text-slate-300">{t.role}</span>
              </div>
              <blockquote class="mt-3 text-slate-200">“{t.quote}”</blockquote>
            </figure>
          ))
        }
      </div>
    </div>
  </div>

  <style>
    /* Płynna pętla bez skoków: tor ma ~200% szerokości (duplikujemy elementy).
       Marquee: przesuwamy o 50% szerokości toru. */
    @keyframes marquee {
      from {
        transform: translateX(0);
      }
      to {
        transform: translateX(-50%);
      }
    }
    @keyframes marquee-reverse {
      from {
        transform: translateX(0);
      }
      to {
        transform: translateX(50%);
      }
    }
    .animate-marquee {
      animation: marquee 35s linear infinite;
    }
    .animate-marquee-reverse {
      animation: marquee-reverse 35s linear infinite;
    }

    /* Responsywność: na bardzo małych ekranach lekko zwolnij */
    @media (max-width: 640px) {
      .animate-marquee,
      .animate-marquee-reverse {
        animation-duration: 45s;
      }
    }
  </style>
</section>
